(this.webpackJsonpresty=this.webpackJsonpresty||[]).push([[0],{17:function(e,t,n){e.exports=n(42)},22:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(12),o=n.n(l),c=(n(22),n(6)),i=n.n(c),u=n(8),s=n(1),h=n(2),d=n(4),m=n(3),p=n(13),f=n.n(p),v=n(14),g=n.n(v),b=(n(35),n(36),n(37),function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"RESTy"))}),E=(n(38),function(){return r.a.createElement("footer",null,r.a.createElement("h1",null,"footer"))}),y=n(5),k=(n(39),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={url:a.props.url,method:a.props.method,lastUrl:null,lastMethod:null},a.handleChangeURL=a.handleChangeURL.bind(Object(y.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(y.a)(a)),a.handleChangeMethod=a.handleChangeMethod.bind(Object(y.a)(a)),a}return Object(h.a)(n,[{key:"handleChangeURL",value:function(e){this.setState({url:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.parentCallback(this.state)}},{key:"handleChangeMethod",value:function(e){this.setState({method:e.target.value})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"URL:",r.a.createElement("input",{type:"text",value:this.state.url,onChange:this.handleChangeURL})),r.a.createElement("input",{type:"submit",value:"Go!"}),r.a.createElement("div",{onChange:this.handleChangeMethod},r.a.createElement("input",{type:"radio",value:"Get",name:"method",defaultChecked:"Get"===this.props.method})," ","Get",r.a.createElement("input",{type:"radio",value:"Post",name:"method",defaultChecked:"Post"===this.props.method})," ","Post",r.a.createElement("input",{type:"radio",value:"Put",name:"method",defaultChecked:"Put"===this.props.method})," ","Put",r.a.createElement("input",{type:"radio",value:"Delete",name:"method",defaultChecked:"Delete"===this.props.method})," ","Delete")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.url!==t.lastUrl||e.method!==t.lastMethod?{url:e.url,method:e.method,lastUrl:e.url,lastMethod:e.method}:{}}}]),n}(r.a.Component)),O=(n(40),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return console.log("condition",e),e?t:null}),C=function(e){return r.a.Children.map(e.children,(function(t){return r.a.cloneElement(t,{name:"sample",condition:e.condition})}))},j=function(e){return O(e.condition,e.children)},S=function(e){return O(!e.condition,e.children)},D=n(15),w=n.n(D),L=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state=a.props.apiData,a}return Object(h.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{condition:this.props.loading},r.a.createElement(j,null,r.a.createElement("div",{className:"loader"}))),r.a.createElement(C,{condition:this.props.apiData.results},r.a.createElement(j,null,r.a.createElement("div",{id:"api-out"},r.a.createElement(w.a,{src:this.props.apiData,theme:"monokai"})))))}}]),n}(r.a.Component),M=n(16),R=(n(41),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).sendData=a.sendData.bind(Object(y.a)(a)),a}return Object(h.a)(n,[{key:"sendData",value:function(e){this.props.parentCallback(e)}},{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("history")),n=[];if(t)for(var a=function(){var t=Object(M.a)(o[l],2),a=t[0],c=t[1];n.push(r.a.createElement("li",{key:a},r.a.createElement("div",{id:"history"},r.a.createElement("h3",null,c.method),r.a.createElement("button",{onClick:function(){return e.sendData({method:c.method,url:c.url})}},c.url))))},l=0,o=Object.entries(t);l<o.length;l++)a();return r.a.createElement("div",null,n)}}]),n}(r.a.Component)),U=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).handleChange=function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({method:n.method,url:n.url});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleRequest=function(){var t=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.toggleLoading(),t.next=4,f()(n.method,n.url);case 4:a=t.sent,e.store({url:n.url,method:n.method,results:a.body}),e.setState({count:a.body.count,results:a.body.results?a.body.results:a.body,header:a.header,method:n.method,url:n.url}),e.toggleLoading(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),e.setState({error:"Error message: ".concat(t.t0.message)}),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),e.toggleLoading=function(){e.setState({loading:!e.state.loading})},e.state={loading:!1,header:{},count:0,results:null,method:"Get",url:"",error:""},e}return Object(h.a)(n,[{key:"store",value:function(e){var t=JSON.parse(localStorage.getItem("history")),n=g.a.encode("".concat(e.method).concat(e.url));if(!t||!Object.keys(t).includes(n))if(t)t[n]=e,localStorage.setItem("history",JSON.stringify(t));else{var a={};a[n]=e,localStorage.setItem("history",JSON.stringify(a))}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement(k,{parentCallback:this.handleRequest,url:this.state.url,method:this.state.method}),r.a.createElement(C,{condition:this.state.error},r.a.createElement(j,null,r.a.createElement("div",{id:"error"},r.a.createElement("p",null,this.state.error))),r.a.createElement(S,null,r.a.createElement(L,{apiData:this.state,loading:this.state.loading}))),r.a.createElement(R,{parentCallback:this.handleChange}),r.a.createElement(E,null))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.e8202eda.chunk.js.map